
@{
    ViewData["Title"] = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model IEnumerable<MyBlog.AdminBlog.ViewModel.Blogs.BlogViewModel>
    <section class="content-header">
        <h1>
            已发表博文
            <small> @ViewData["Title"]</small>
        </h1>
    </section>
    <section class="content">
        <table class="table table-striped table-bordered">
            <thead>
                <tr>
                    <th>Id</th>
                    <th>标题</th>
                    <th>创建时间</th>
                    <th>最后修改时间</th>
                    <th>操作</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
            {
                    <tr>
                        <td>@item.Id</td>
                        <td>@item.Title</td>
                        <td>@item.CreateTime</td>
                        <td>@item.ModificationTime</td>
                        <td>
                            <form>
                                <a href="javaScript:void(0)" onclick="UnPublish(@item.Id)"><i class="glyphicon glyphicon-globe" title="撤销"></i></a>
                            </form>
                        </td>
                    </tr>
            }
            </tbody>
        </table>
    </section>
    <div id="showModel">

    </div>
    <script>
    function UnPublish(id) {
        $.ajax({
            url: "/Blog/UnPublish",
            method: "post",
            data: {
                id:id
            },
            success: function (data) {
                alert(data);
                location.reload();
            }

        })

    }


    </script>
